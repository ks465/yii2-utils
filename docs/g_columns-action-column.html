<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/afbdca15/css/bootstrap.css" rel="stylesheet">
<link href="./assets/9af5cddc/solarized_light.css" rel="stylesheet">
<link href="./assets/34135542/style.css" rel="stylesheet">
<script src="./assets/84a200c2/jquery.js"></script>
<script src="./assets/afbdca15/js/bootstrap.js"></script>
<script src="./assets/96f6715f/jssearch.js"></script>    <title>Action Column - Columns - KHanUtilsGuide</title>
</head>
<body>

<div class="wrap">
    <nav id="w96" class="navbar-inverse navbar-fixed-top navbar"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w96-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./guide-index.html">KHanUtilsGuide</a></div><div id="w96-collapse" class="collapse navbar-collapse"><ul id="w97" class="navbar-nav nav"><li><a href="./g_README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item" href="#navigation-84" data-toggle="collapse" data-parent="#navigation">Documentation <b class="caret"></b></a><div id="navigation-84" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_documents.html">Document Tips and Tricks</a>
<a class="list-group-item" href="./g_persian.html">Setup for Persian</a>
<a class="list-group-item" href="./g_full-config.html">Complete Config</a>
<a class="list-group-item" href="./g_workflow.html">Workflow</a></div>
<a class="list-group-item" href="#navigation-85" data-toggle="collapse" data-parent="#navigation">Behaviors <b class="caret"></b></a><div id="navigation-85" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_workflow.html#WorkflowBehavior">WorkflowBehavior</a>
<a class="list-group-item" href="./g_behaviors-eav-behavior.html">EavBehavior</a>
<a class="list-group-item" href="./g_behaviors-eav-trait.html">EavQueryTrait</a></div>
<a class="list-group-item" href="#navigation-86" data-toggle="collapse" data-parent="#navigation">Components <b class="caret"></b></a><div id="navigation-86" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_components-array-helper.html">Array Helper</a>
<a class="list-group-item" href="./g_components-file-helper.html">File Helper</a>
<a class="list-group-item" href="./g_components-jalali.html">Jalali and JalaliX</a>
<a class="list-group-item" href="./g_components-math-helper.html">Math Helper</a>
<a class="list-group-item" href="./g_components-sql-formatter.html">SQL Formatter</a>
<a class="list-group-item" href="./g_components-string-helper.html">String Helper</a>
<a class="list-group-item" href="./g_components-view-helper.html">View Helper</a></div>
<a class="list-group-item" href="#navigation-87" data-toggle="collapse" data-parent="#navigation">Controllers <b class="caret"></b></a><div id="navigation-87" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_controllers-khan-console.html">KHan Console</a>
<a class="list-group-item" href="./g_controllers-khan-rest.html">KHan Rest</a>
<a class="list-group-item" href="./g_controllers-khan-web.html">KHan Web</a>
<a class="list-group-item" href="./g_controllers-system-tables.html">System Tables</a></div>
<a class="list-group-item active" href="#navigation-88" data-toggle="collapse" data-parent="#navigation">Columns <b class="caret"></b></a><div id="navigation-88" class="submenu panel-collapse collapse in"><a class="list-group-item active" href="./g_columns-action-column.html">Action Column</a>
<a class="list-group-item" href="./g_columns-boolean-column.html">Boolean Column</a>
<a class="list-group-item" href="./g_columns-data-column.html">Data Column</a>
<a class="list-group-item" href="./g_columns-enum-column.html">Enum Column</a>
<a class="list-group-item" href="./g_columns-jalali-column.html">Jalali Column</a>
<a class="list-group-item" href="./g_workflow.html#ProgressColumn">Progress Column</a>
<a class="list-group-item" href="./g_columns-radio-column.html">Radio Column</a>
<a class="list-group-item" href="./g_columns-related-column.html">Related Column</a></div>
<a class="list-group-item" href="#navigation-89" data-toggle="collapse" data-parent="#navigation">Models <b class="caret"></b></a><div id="navigation-89" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_models-khan-model.html">Base Model</a>
<a class="list-group-item" href="./g_models-khan-user.html">Base user</a>
<a class="list-group-item" href="./g_models-khan-identity.html">Identity</a></div>
<a class="list-group-item" href="#navigation-90" data-toggle="collapse" data-parent="#navigation">RBAC <b class="caret"></b></a><div id="navigation-90" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_rbac-rule-owner.html">Owner Rule</a></div>
<a class="list-group-item" href="#navigation-91" data-toggle="collapse" data-parent="#navigation">Widgets <b class="caret"></b></a><div id="navigation-91" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_widgets-date-picker.html">Date Picker</a>
<a class="list-group-item" href="./g_widgets-date-range-picker.html">Date Range Picker</a>
<a class="list-group-item" href="./g_widgets-grid-view.html">Grid View</a>
<a class="list-group-item" href="./g_widgets-dropdown.html">AJAX Dropdown</a>
<a class="list-group-item" href="./g_widgets-export-menu.html">Export Menu</a>
<a class="list-group-item" href="./g_widgets-confirm-button.html">Confirm Button</a>
<a class="list-group-item" href="./g_widgets-captcha.html">Captcha</a>
<a class="list-group-item" href="./g_widgets-export-menu.html">ExportMenu</a></div>
<a class="list-group-item" href="#navigation-92" data-toggle="collapse" data-parent="#navigation">Others <b class="caret"></b></a><div id="navigation-92" class="submenu panel-collapse collapse"><a class="list-group-item" href="./g_helpers-app-builder.html">App Builder</a>
<a class="list-group-item" href="./g_helpers-system-table-builder.html">System table Builder</a>
<a class="list-group-item" href="./g_helpers-genrators.html">Generators</a>
<a class="list-group-item" href="./g_components-var-dump.html">VarDump</a>
<a class="list-group-item" href="./g_components-sql-formatter.html">SqlFormatter</a>
<a class="list-group-item" href="./g_settings.html">Settings</a>
<a class="list-group-item" href="./g_helpers-migrations.html">Migrations</a>
<a class="list-group-item" href="./g_widgets-menu.html">Overlay Menu</a>
<a class="list-group-item" href="./g_components-workflow.html">Workflow Manager</a>
<a class="list-group-item" href="./g_components-wiz-flow.html">Wizard Flow</a>
<a class="list-group-item" href="./g_tests.html">Tests</a>
<a class="list-group-item" href="./g_module-khan-tools.html">Tools Module</a></div>
<a class="list-group-item" href="#navigation-93" data-toggle="collapse" data-parent="#navigation">StartUp <b class="caret"></b></a><div id="navigation-93" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-94" data-toggle="collapse" data-parent="#navigation">Sanitizing User Input <b class="caret"></b></a><div id="navigation-94" class="submenu panel-collapse collapse"></div>
<a class="list-group-item" href="#navigation-95" data-toggle="collapse" data-parent="#navigation">RBAC Setup <b class="caret"></b></a><div id="navigation-95" class="submenu panel-collapse collapse"></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>ActionColumn Class <span id="actioncolumn-class"></span><a href="#actioncolumn-class" class="hashlink">&para;</a></h1><p>Documentation Edition: 2.4-971122
Class Version: 2.3.0-971122</p>
<p><span class="broken-link">khans\utils\columns\ActionColumn</span> extends \kartik\grid\ActionColumn only to simplify routine, uniform development.
As it is seen in the example, there is no limit in numbers of <strong>ActionColumn</strong>s in a <em>GridView</em>.
By setting the visibility of standard action in one and adding <em>extraColumns</em>, there would be two distinctive columns.</p>
<pre><code class="hljs php language-php"><span class="hljs-keyword">echo</span> khans\utils\widgets\GridView::widget([
...
<span class="hljs-string">'columns'</span> =&gt; [
    ...,
    [
        <span class="hljs-string">'class'</span>          =&gt; <span class="hljs-string">'khans\utils\columns\ActionColumn'</span>,
        <span class="hljs-string">'audit'</span>          =&gt; <span class="hljs-keyword">true</span>,
        <span class="hljs-string">'dropdown'</span>       =&gt; <span class="hljs-keyword">true</span>,
        
        <span class="hljs-string">'header'</span>         =&gt; <span class="hljs-string">'Pure Custom Actions'</span>,
        <span class="hljs-string">'visibleButtons'</span> =&gt; [
            <span class="hljs-string">'view'</span>     =&gt; <span class="hljs-keyword">false</span>,
            <span class="hljs-string">'update'</span>   =&gt; <span class="hljs-keyword">false</span>,
            <span class="hljs-string">'delete'</span>   =&gt; <span class="hljs-keyword">false</span>,
            <span class="hljs-string">'download'</span> =&gt; <span class="hljs-keyword">false</span>,
            <span class="hljs-string">'audit'</span>    =&gt; <span class="hljs-keyword">false</span>,
        ],
        <span class="hljs-string">'extraItems'</span>     =&gt; <span class="hljs-variable">$extraColumns</span>,
        <span class="hljs-string">'dropdownButton'</span> =&gt; [<span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'btn btn-default alert-success'</span>, <span class="hljs-string">'label'</span> =&gt; <span class="hljs-string">'GoOn'</span>],
    ],
    [
        <span class="hljs-string">'class'</span>          =&gt; <span class="hljs-string">'khans\utils\columns\ActionColumn'</span>,
        <span class="hljs-string">'audit'</span>          =&gt; <span class="hljs-keyword">false</span>,
        <span class="hljs-string">'runAsAjax'</span>      =&gt; <span class="hljs-keyword">true</span>,
        <span class="hljs-string">'dropdown'</span>       =&gt; <span class="hljs-keyword">true</span>,
        <span class="hljs-string">'dropdownButton'</span> =&gt; [<span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'btn btn-danger'</span>],
    ],
    [
        <span class="hljs-string">'class'</span>          =&gt; <span class="hljs-string">'khans\utils\columns\ActionColumn'</span>,
        <span class="hljs-string">'runAsAjax'</span>      =&gt; <span class="hljs-keyword">false</span>,
        <span class="hljs-string">'audit'</span>          =&gt; <span class="hljs-keyword">true</span>,
        <span class="hljs-string">'dropdown'</span>       =&gt; <span class="hljs-keyword">false</span>,
        <span class="hljs-string">'download'</span>       =&gt; Url::to([<span class="hljs-string">'/some-action'</span>, <span class="hljs-string">'id'</span> =&gt; <span class="hljs-number">124</span>]),
        <span class="hljs-string">'deleteAlert'</span>=&gt;<span class="hljs-string">'رکورد انتخاب شده از فهرست داده‌ها پاک خواهد شد.'</span>,
        <span class="hljs-string">'dropdownButton'</span> =&gt; [<span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'btn btn-danger'</span>],
    ],
],
...
</code></pre>
<ul>
<li><p><em>class</em> It is of course mandatory and should always set to <em><strong>'khans\utils\columns\ActionColumn'</strong></em>.</p>
</li>
<li><p><em>audit</em> Adds an icon to each row that shows creator and updater data (time and person) in the tooltip. By clicking the icon, a modal grid shows the history of changes in the record.</p>
</li>
<li><p><em>download</em> is the URL to the download action. This is usually built using <code>yii\helpers\Url::to()</code> or similar.
It will directly fed into the <code>Html::a()</code>.</p>
</li>
<li><p><em>runAsAjax</em> In the new version of <span class="broken-link">\khans\utils\widgets\GridView</span> this is th key to run the grid view as AJAX.
The old <code>AjaxGridView</code> is dropped.
This value is available for the column and the unique actions (see below).</p>
</li>
<li><em>dropdown</em> shows the icons in the form of a dropdown menu. <em><strong>The two options dropdown and runAsAjax are not compatible with each other. Activate only one of them at a time.</strong></em></li>
<li><em>deleteAlert</em> text used in the alert popup. defaults to <code>از پاک نمودن این {item} اطمینان دارید؟</code> </li>
</ul>
<h3>Extra Columns <span id="extra-columns"></span><a href="#extra-columns" class="hashlink">&para;</a></h3><p>This config adds one or more options to the <code>ActionColumn</code>.
Column without key and with empty body will be dropped.</p>
<pre><code class="hljs php language-php"><span class="hljs-variable">$extraColumns</span> = [
    <span class="hljs-string">'name'</span>   =&gt; [
        <span class="hljs-string">'icon'</span>   =&gt; <span class="hljs-string">'edit'</span>,
        <span class="hljs-string">'action'</span> =&gt; <span class="hljs-string">'my-action'</span>,
        <span class="hljs-string">'config'</span> =&gt; [<span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'alert-danger'</span>], <span class="hljs-comment">// Use alert-* class with dropDown =&gt; true</span>
    ],
    [],
    <span class="hljs-string">'rename'</span> =&gt; [
        <span class="hljs-string">'title'</span>  =&gt; <span class="hljs-string">'Test Me'</span>,
        <span class="hljs-string">'icon'</span>   =&gt; <span class="hljs-string">'pencil'</span>,
        <span class="hljs-string">'config'</span> =&gt; [<span class="hljs-string">'class'</span> =&gt; <span class="hljs-string">'text-success'</span>], <span class="hljs-comment">// Use text-* class with dropDown =&gt; false</span>
    ],
    <span class="hljs-string">'reset'</span>  =&gt; [
        <span class="hljs-string">'runAsAjax'</span>=&gt;<span class="hljs-keyword">false</span>,
        <span class="hljs-string">'method'</span> =&gt; <span class="hljs-string">'get'</span>,
        <span class="hljs-string">'confirm'</span> =&gt; [ <span class="hljs-comment">//set to true to show a generic dialog</span>
            <span class="hljs-string">'title'</span> =&gt; <span class="hljs-string">'آیا از فرستادن این گزینه اطمینان دارید؟'</span>,
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'با انجام این عمل:'</span> . <span class="hljs-string">'&lt;ul&gt;'</span> .
                <span class="hljs-string">'&lt;li&gt;'</span> .
                    <span class="hljs-string">'پرونده نامبرده بزای اقدام فرستاده خواهد شد.'</span> .
                <span class="hljs-string">'&lt;/li&gt;'</span> .
                <span class="hljs-string">'&lt;li&gt;'</span> .
                    <span class="hljs-string">'به جریان افتادن پرونده نامبرده از طریق ایمیل به وی اعلام خواهد شد.'</span> .
                <span class="hljs-string">'&lt;/li&gt;'</span> .
                <span class="hljs-string">'&lt;/ul&gt;'</span> .
                <span class="hljs-string">'آیا اطمینان دارید؟'</span>
        ],
    ],
];
</code></pre>
<p><em>Array Key</em> will be used in the template. If action is not present, it would serve as the action of the link
in <code>Url::to</code>.</p>
<p><em>Array Values</em></p>
<ul>
<li><strong>title</strong> In dropdown menu it is the title in the selection menu. In any case it will be used as the tooltip.</li>
<li><strong>icon</strong> Type of glyphicon to use. Class glyphicon will be added automatically.
   It is optional and default is <em>link</em>.</li>
<li><strong>action</strong> Name of action in the receiving controller. If it is omitted the action name will be the array key, and the default Url creator of the column is used. If it is set, the action target should be complete -- no assumption are done. </li>
<li><strong>config</strong> Configuration array which will directly fed into the <code>Html::a()</code> config part.</li>
<li><strong>runAsAjax</strong> Whether the related action should run as AJAX request or full page reload.</li>
<li><strong>method</strong> Select the action for the target as <code>POST</code> or <code>GET</code>. </li>
<li><strong>confirm</strong> If the action runs as AJAX and confirm is not empty of <code>false</code>, a confirming dialog is shown to the user to confirm the action. If the value is <code>true</code>, a generic message is used. Otherwise the following two elements should be present:<ul>
<li><em>title</em> Text for title of the dialog.</li>
<li><em>message</em> Body of the confirm dialog.</li>
</ul>
</li>
</ul>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Fri, 15 Feb 2019 13:08:04 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script>jQuery(function ($) {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
